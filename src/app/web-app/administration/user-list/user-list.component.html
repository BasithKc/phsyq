<div class="container main-container py-4">
    <div class="text-end">
        <button (click)="addUser()">Add user</button>
    </div>
    <div class="table-container shadow">
        <p-table class="mt-4"  [paginator]="true"
        [rows]="10"  [rowsPerPageOptions]="[5, 10, 20]" [showCurrentPageReport]="true"   currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [value]="users"  [scrollable]="true"
        scrollHeight="500px" [tableStyle]="{ 'min-width': '40rem' }">
            <ng-template #header>
                <tr>
                    <th>Action</th>
                    <th pSortableColumn="name" >Name  <p-sortIcon field="name" />  <p-columnFilter field="name" matchMode="contains" display="menu"></p-columnFilter></th>
                    <th pSortableColumn="email" >Email  <p-sortIcon field="email" />  <p-columnFilter field="email" matchMode="contains" display="menu"></p-columnFilter></th>
                    <th pSortableColumn="isAdmin">Admin <p-sortIcon field="isAdmin" /></th>
                    <th pSortableColumn="isVerified" >Status  <p-sortIcon field="isVerified" /></th>
                </tr>
            </ng-template>
            <ng-template #body let-user>
                <tr>
                    <td>
                        @if (user.isAdminAdded) {
                            <button class="me-2 edit-btn" [pTooltip]="'Edit'" (click)="editUser(user)">
                                <i class="bi bi-pencil-square"></i>
                              </button>
                            }
                            <button class="dlt-btn" [pTooltip]="'Delete'" (click)="deleteUser(user)">
                              <i class="bi bi-trash-fill"></i>
                            </button>
                    </td>
                    <td>{{ user.name }}</td>
                    <td>{{ user.email }}</td>
                    <td>
                        {{ user.isAdmin }}
                    </td>
                    <td>
                        <p-tag [value]="user.isVerified" [severity]="getSeverity(user.isVerified)" />
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>


</div>
