<div class="container main-container py-4">
    <div class="page-header">
      <div>
        <h1 class="page-title">Introduction to Psychology</h1>
        <p class="subtitle">Audio lectures for this course</p>
      </div>

      <div>
        <button class="btn" (click)="openDialog()"><i class="bi bi-plus"></i> Add Lesson</button> 
     </div>
    </div>
    
    <div class="row">
      <!-- Sidebar with lecture list -->
      <div class="col-md-4 sidebar mb-4 mb-md-0 shadow">
        <h2>Lectures</h2>
        @for (lesson of lessons; track $index) {
          <div class="lecture-item active">
            <div class="lesson-header">
              <h3 class="lecture-title">{{lesson.title}}</h3>
              <div class="text-end">
                <button class="mr-2" [pTooltip]="'Edit'" (click)="editLesson(lesson)">
                  <i class="bi bi-pencil-square"></i>
                </button>
                <button [pTooltip]="'Delete'" (click)="deleteLesson(lesson)">
                  <i class="bi bi-trash-fill"></i>
                </button>
              </div>
            </div>
            <p class="lecture-description">{{lesson.description}}</p>
          </div>
        }
      </div>
      
      <!-- Main content - audio player -->
      <div class="col-md-8 shadow">
        <div class="player-container">
          <h2 class="player-title">The Science of Psychology</h2>
          
          <div class="audio-player">
            <div class="progress-container">
              <div class="progress-bar-container">
                <div class="progress-bar-fill"></div>
                <div class="progress-handle"></div>
              </div>
              <div class="time-display">
                <span>0:00</span>
                <span>0:00</span>
              </div>
            </div>
            
            <div class="player-controls">
              <button class="control-btn prev">
                <i class="bi bi-skip-backward-fill"></i>
              </button>
              
              <button class="control-btn play">
                <i class="bi bi-play-fill"></i>
              </button>
              
              <button class="control-btn next">
                <i class="bi bi-skip-forward-fill"></i>
              </button>
            </div>
            
            <div class="volume-control">
              <div class="volume-icon">
                <i class="bi bi-volume-up-fill"></i>
              </div>
              <div class="volume-slider">
                <div class="volume-fill"></div>
                <div class="volume-handle"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <p-dialog [header]="dialogHeader" [modal]="true" [(visible)]="showDialog" (visibleChange)="closeDialog()"
  [style]="{ width: '30rem' }">
  <form #moduleForm="ngForm">
    <div class="space-y-4">
      <div class="grid grid-cols-1 gap-4">
        <div class="flex justify-center mt-2">
          <p-iftalabel>
             <input pInputText name="code" id="code" [(ngModel)]="input.code" autocomplete="off" />
             <label for="code">Code</label>
         </p-iftalabel>
      </div>
      
      <div class="flex justify-center mt-4">
        <p-iftalabel>
           <input pInputText name="title" id="title" [(ngModel)]="input.title" autocomplete="off" />
           <label for="title">Title</label>
       </p-iftalabel>
    </div>

    <div class="flex justify-center mt-4">
      <p-iftalabel>
         <textarea pInputText name="description" id="description" [(ngModel)]="input.description" autocomplete="off"></textarea>
         <label for="description">Description</label>
     </p-iftalabel>
  </div>
      </div>
    </div>
    <div class="text-end mt-4">
      <button type="button" class="mr-2  btn cancel-btn" (click)="closeDialog()"><i
          class="fa-solid fa-times me-2"></i>Cancel</button>
          <button type="button" class="btn-green hover:bg-[#d99d3f] btn" (click)="save()"><i
            class="fa-solid fa-save me-2"></i>Save</button>
    </div>
  </form>
</p-dialog>
